{% extends "main_base.html" %}
{% load static %}
{% block contents %}

<input type="hidden" id="csrf_token" value="{{ csrf_token }}">
<section class="body">
    <div class="inner-wrapper">
        <section role="main" class="content-body">
            <section class="panel main-panel mgt_70">
                    <!--
                        <button id="preprocessing">정제</button>
                        <button id="preprocessingDelete">삭제</button>
                    -->

                    <table id="preprocessingItemList" class="table table-bordered">
                        
                        <thead>
                            <tr>
                                <th>
                                    <div class="checkbox-custom checkbox-warning">
                                        <input type="checkbox" id="wholeChk">
                                        <label for="wholeChk"></label>
                                    </div>
                                </th>
                                <th>파일명</th>
                                <th>등록일</th>
                                <th>대 분류</th>
                                <th>상세분류</th>
                                <th>이상치 종류</th>
                                <th>파일 길이 (sec)</th>
                                <th>소리 최대 (db)</th>
                                <th>상태</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                        </tbody>
                    </table>
                
            </section>

            

        </section>
    </div>
</section>

<!-- 정제 팝업 -->
<div id="preprocessingBeforePopup" class="modal-block modal-block-xs mfp-hide">
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">기존 원천데이터 선택</h2>
            <img src='{% static  "assets/images/ico_delete.svg" %}' class="ico_delete modal-dismiss">
        </header>
        <div class="panel-body">
            <table class="table table-bordered" id="beforePreprocessingItemList">
                <thead>
                    <tr>
                        <th class="checkbox-col">
                            <div class="checkbox-custom checkbox-warning">
                                <input type="checkbox" id="beforeWholeChk">
                                <label for="beforeWholeChk"></label>
                            </div>
                        </th>
                        <th>파일명</th>
                        <th>데이터 등록일</th>
                        <th>대분류</th>
                        <th>상세분류</th>

                        <th>파일 경로</th>
                        <th>녹취 장소</th>
                        <th>상태</th>
                    </tr>
                </thead>
                <tbody>
                    
                </tbody>

            </table>
        </div>
    </section>
</div>

<!-- 전처리 팝업 -->
<div id="preprocessingPopup" class="modal" style="z-index: 10001; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); max-width: 80%; width: 1000px; max-height: 80%; overflow-y: auto;">
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">전처리 화면</h2>
            <img src='{% static  "assets/images/ico_delete.svg" %}' id="preprocessingPopupClose" class="ico_delete modal-dismiss">
        </header>
        <div class="panel-body">
            <div style="width:100%; overflow: hidden;">
                <button class="dt-button modal-with-form datatable-btn-confirm" id="preprocessing" style="float: right;margin-bottom:12px;">전처리</button>
            </div>
            <div id="waveform" style="border: 1px solid #000; padding: 10px;">
                
            </div>
            
        </div>
    </section>
    
</div> 

{% endblock %}

{% block script %}
    <script type="module">
        import WaveSurfer from "{% static 'assets/javascripts/wavesurfer/dist/wavesurfer.js' %}";
        import RegionsPlugin from "{% static 'assets/javascripts/wavesurfer/dist/plugins/regions.esm.js' %}";
        import TimelinePlugin from "{% static 'assets/javascripts/wavesurfer/dist/plugins/timeline.esm.js' %}";
        {% include "preprocessing/preprocessing.js" %}
    </script>
{% endblock %}